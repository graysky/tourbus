<%
## RSS 2.0 feed for any generic object
## Assumes that:
## obj => the obj for the feed (should respond_to name)
## base_url => the base url for the object
## items => the ordered list of items for the feed
## key => the fragment key
## title => title for the feed
%>
<% cache(key) do %>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/">
<channel>
<title><%=feed_title(h(title))%></title>
<link><%= base_url %></link>
<description><%=feed_description(h(title))%></description>

<% items.each do |i| %>
<item>
<%= xml_for_item(obj, i, base_url) %>
</item>
<% end %> 
</channel>
</rss>
<% end %>